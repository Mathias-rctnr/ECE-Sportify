<!DOCTYPE html>
<html>

<head>
    <title>Affichage d'un fichier XML</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        function loadXMLDoc() {
    let xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function () {

        //Request finished and response
        //is ready and status is OK
        if (this.readyState == 4 && this.status == 200) {
            studentDetails(this);
        }
    };
    xhttp.open("GET", "cv.xml", true);
    xhttp.send();
}

function studentDetails(xml) {
    let i;
    let xmlDoc = xml.responseXML;
    let table = `<tr>
    <th> Pays </th>
    <th> Capitale </th>
    <th> Superficie </th>
    <th> Population </th>
    <th> PIB </th>
    <th> PIB par habitant </th>`;

    let x = xmlDoc.getElementsByTagName("pays");      //! RÉCUPÈRE AVEC LE NOM DES BALISES XML

    for (i = 0; i < x.length; i++) {             //? AFFICHE LE TABLEAU AVEC LES DONNÉES RECUPÉRÉES
        table += "<tr> <td>" +
            x[i].getElementsByTagName("nom")[0].childNodes[0].nodeValue + "</td> <td>" +
            x[i].getElementsByTagName("capitale")[0].childNodes[0].nodeValue + "</td> <td>" +
            x[i].getElementsByTagName("superficie")[0].childNodes[0].nodeValue + "</td> <td>" +
            x[i].getElementsByTagName("population")[0].childNodes[0].nodeValue + "</td> <td>" +
            x[i].getElementsByTagName("PIB")[0].childNodes[0].nodeValue + "</td> <td>" +
            x[i].getElementsByTagName("PIB_habi")[0].childNodes[0].nodeValue + "</td> </tr>";
    }

    document.getElementById("descri_XML").innerHTML = table;       //ENVOIE DES DONNÉES
}
    </script>
</head>

<body>
    <div class="Wrapper">
        <h1>BRICS</h1>
        <button type="button" class="button" onclick="loadXMLDoc()">Afficher les pays qui forment le groupe
            BRICS</button>
        <div id="XML">
            <table id="descri_XML">

            </table>
        </div>
    </div>
</body>

</html>